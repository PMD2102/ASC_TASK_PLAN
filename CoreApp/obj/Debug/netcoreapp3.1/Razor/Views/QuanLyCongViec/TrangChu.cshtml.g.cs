#pragma checksum "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "b8d388741982928c065e88013ab11fa295176b20"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_QuanLyCongViec_TrangChu), @"mvc.1.0.view", @"/Views/QuanLyCongViec/TrangChu.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\_ViewImports.cshtml"
using CoreApp;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\_ViewImports.cshtml"
using Kendo.Mvc.UI;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b8d388741982928c065e88013ab11fa295176b20", @"/Views/QuanLyCongViec/TrangChu.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"37e33255dd0f58295d578403c46696e37e808753", @"/Views/_ViewImports.cshtml")]
    public class Views_QuanLyCongViec_TrangChu : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@"<style>


    .abc {
        margin-left: 34px;
        z-index: 1;
        position: absolute;
        margin-top: 18px;
        padding: 8px;
    }

    a.classTagA {
        text-decoration: underline blue solid !important;
        color: blue !important;
        font-weight: normal !important;
        cursor: pointer !important;
    }

    a {
        padding: 24px;
    }

    .k-reset {
        z-index: 0;
        letter-spacing: 2px;
    }

    .modal {
        text-align: center;
        padding: 0 !important;
    }

        .modal:before {
            content: '';
            display: inline-block;
            height: 100%;
            vertical-align: middle;
            margin-right: -4px;
        }

    .modal-dialog {
        display: inline-block;
        text-align: left;
        vertical-align: middle;
    }
</style>
<div class=""container"">
    <div class=""row"">
        <div class=""col-xs-4 col-sm-4 col-md-4 col-lg-4 "">
            <br />
            <h1> Quản Lý Công Việc </h1>
        </div>

");
            WriteLiteral("        <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 \" style=\"margin-top: 10px;\">\n            <br />\n            ");
#nullable restore
#line 56 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
        Write(Html.Kendo().Button()
                    .Name("Them")
                    .Content("Thêm")
                    .HtmlAttributes(new { type = "button", @class = "k-button", style="margin-left:100px;"})
          );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n            ");
#nullable restore
#line 61 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
        Write(Html.Kendo().Button()
                    .Name("Xoa")
                    .Content("Xóa")
                    .HtmlAttributes(new { type = "button", @class = "k-button"})
          );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n            ");
#nullable restore
#line 66 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
        Write(Html.Kendo().Button()
                    .Name("Luu")
                    .Content("Lưu")
                    .HtmlAttributes(new { type = "button", @class = "k-button" })
          );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n            ");
#nullable restore
#line 71 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
        Write(Html.Kendo().Button()
                    .Name("DuyetKeHoachTuan")
                    .Content("Duyệt kế hoạch tuần")
                    .HtmlAttributes(new { type = "button", @class = "k-button" })
          );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n            ");
#nullable restore
#line 76 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
        Write(Html.Kendo().Button()
                    .Name("KhoaMoTuan")
                    .Content("Khoá / mở tuần")
                    .HtmlAttributes(new { type = "button", @class = "k-button" })
          );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n            ");
#nullable restore
#line 81 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
        Write(Html.Kendo().Button()
                    .Name("DoiCongViec")
                    .Content("Dời công việc")
                    .HtmlAttributes(new { type = "button", @class = "k-button" })
          );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n");
            WriteLiteral("        </div>\n    </div>\n\n    <br />\n    <br />\n\n    <div class=\"row\" style=\" border: 1px solid black; height: 80px; \">\n        <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 \">\n            <span> Tháng : </span>\n            ");
#nullable restore
#line 100 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
        Write(Html.Kendo().DropDownList()
                .Name("dropdownlistThangTrongNamIndex")
                .DataTextField("TenThang")
                .DataValueField("Id")
                .DataSource(source => {
                    source.Read(read =>
                    {
                        read.Action("GetAllThang", "Thang");
                    });
                })
                .HtmlAttributes(new { style = "margin-left : 50px; margin-top:20px;" })
             );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n            <span style=\"margin-left: 50px; margin-top: 50px;\"> Tuần : </span>\n            ");
#nullable restore
#line 113 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
        Write(Html.Kendo().DropDownList()
                .Name("dropdownlistTuanIndex")
                .DataTextField("TenTuan")
                .DataValueField("Id")
                .DataSource(source => source
                    .Custom()
                    .ServerFiltering(true)
                    .Transport(transport => transport
                    .Read(read =>
                    {
                        read.Action("DanhSachTuanTrongThang", "Tuan").Data("filterMonthIndex"); ;
                    }))
                    )
                .Enable(false)
                .AutoBind(false)
                .CascadeFrom("dropdownlistThangTrongNamIndex")
                .HtmlAttributes(new { style = "margin-left : 40px; margin-top:20px;" })
              );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"


            <button id=""tim"" name=""tim"" class=""k-button"" style=""margin-top: 20px; margin-left: 240px;""> Tìm </button>
            <button id=""timNangCao"" name=""timNangCao"" class=""k-button"" style=""margin-top: 20px; margin-left: 10px;""> Tìm nâng cao </button>
        </div>


    </div>

    <br />
    <br />

    <div id=""testShow"" name=""testShow"" class=""row"" style="" border: 1px solid black;height: 80px; "">
        <div class=""col-xs-12 col-sm-12 col-md-12 col-lg-12 "">
            <span>Module</span>
            ");
#nullable restore
#line 146 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
        Write(Html.Kendo().DropDownList()
                .Name("dropdownlistModuleIndex")
                .DataTextField("TenModule")
                .DataValueField("Id")
                .AutoBind(false)
                .DataSource(source => {
                    source.Read(read =>
                    {
                        read.Action("GetDanhSachModule", "Module");
                    });
                })
                .HtmlAttributes(new { style = "margin-left : 20px" })
             );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n            <span style=\"margin-left: 20px; margin-top: 20px;\">Tên công việc</span>\n            <input id=\"tenCongViecIndex\" name=\"tenCongViecIndex\" style=\"margin-top : 10px;\" />\n\n            <span style=\"margin-left: 20px;\">Nhân sự</span>\n            ");
#nullable restore
#line 163 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
        Write(Html.Kendo().DropDownList()
                .Name("dropdownlistNhanSuIndex")
                .DataTextField("Ten")
                .DataValueField("Id")
                .AutoBind(false)
                .DataSource(source => {
                    source.Read(read =>
                    {
                        read.Action("GetDanhSachNhanSu", "NhanSu");
                    });
                })
                .HtmlAttributes(new { style = "margin-left : 10px; width: 100px" })
            );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n            <span style=\"margin-left: 20px;\">Trạng thái</span>\n            ");
#nullable restore
#line 177 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
        Write(Html.Kendo().DropDownList()
        .Name("dropdownlistLamViecIndex")
        .DataTextField("Text")
        .DataValueField("Value")
        .AutoBind(false)
        .BindTo(new List<SelectListItem>()
        {
                    new SelectListItem()
                    {
                        Text = "Đã xong",
                        Value = "0"
                    },
                    new SelectListItem()
                    {
                        Text = "Chưa làm",
                        Value = "1"
                    },
                    new SelectListItem()
                    {
                        Text = "Task đột xuất",
                        Value = "2"
                    },
                    new SelectListItem()
                    {
                        Text = "Chưa xong",
                        Value = "3"
                    },
                    new SelectListItem()
                    {
                        Text = "Bận task khác chưa duyệt",
                        Value = "4"
                    },
                    new SelectListItem()
                    {
                        Text = "Bận task khác đã duyệt",
                        Value = "5"
                    },
                    new SelectListItem()
                    {
                        Text = "Vắng",
                        Value = "6"
                    },


        })
        .Value("-1")


);

#line default
#line hidden
#nullable disable
            WriteLiteral("\n        </div>\n\n\n    </div>\n    <br />\n    <br />\n\n");
            WriteLiteral("\n    ");
#nullable restore
#line 236 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
Write(Html.Kendo().Grid<CoreApp.Models.eQuanLyCongViecModel>()
        .Name("grid1")
        .Columns(columns =>
        {
        //columns.Bound(c => c.tenNhanVien);
            columns.Select().Width(50);
            columns.Bound(c => c.eDmModuleModel).ClientTemplate("#=eDmModuleModel.TenModule#").Title("Module").Width(250);
            columns.Bound(c => c.urlIssue).Title("Issue Url");
            columns.Bound(c => c.tenCongViec).Title("Tên công việc").ClientGroupHeaderColumnTemplate("Tồng thời gian : #:thoiGianLam.sum# <br/> Mức độ hoàn thành : #=mucDoHoanThanh.sum/thoiGianLam.sum*100#%").Width(800);
            columns.Bound(c => c.NguonGocModel).ClientTemplate("#=NguonGocModel.tenNguonGoc#").Title("Nguồn gốc").Width(40);
            columns.Bound(c => c.thoiGianLam).Title("TG.làm").Width(40);
            columns.Bound(c => c.mucDoHoanThanh).Title("Mức độ hoàn thành").Hidden();
            columns.Bound(c => c.tuNgay).Title("Từ ngày").Format("{0:dd/MM}");
            columns.Bound(c => c.denNgay).Title("Dến ngày").Format("{0:dd/MM}");
            columns.Bound(c => c.TrangThaiCongViecModel).ClientTemplate("#=TrangThaiCongViecModel.tenTrangThai#").Title("Trạng thái").Width(400);
            
            columns.Bound(c => c.ghiChu).Title("Ghi chú").Width(500);
            
            columns.Command(command =>
            {
                command.Custom("Cập nhật").Click("CapNhatPromo");

            }).Title("Sửa");
        })
        .Editable(editable => editable.Mode(GridEditMode.InCell))
        .HtmlAttributes(new { style = "height:550px;" })
        .DataSource(dataSource => dataSource
            .Ajax()
            //.Batch(true)
            .PageSize(20)
            .ServerOperation(false)
            .Events(events => events.Error("errorHandler"))
            .Aggregates(aggregates =>
            {
                aggregates.Add(p => p.thoiGianLam).Sum();
                aggregates.Add(p => p.mucDoHoanThanh).Sum();
            })
            .Group(groups => {
                groups.Add(p => p.Dev);
            })
            .Model(model =>
            {
                model.Id(p => p.idNhanVien);
                //model.Id(p => p.idModule);
                //model.Field(p => p.eDmModuleModel).DefaultValue(
                //ViewData["defaultModule"] as CoreApp.Models.eDmModuleModel);
                //model.Field(p => p.eDmModuleModel.Id).DefaultValue(ViewData["defaultModule"] as CoreApp.Models.eDmModuleModel);

            })
            .Read(read => read.Action("TimKiem", "QuanLyCongViec").Data("TimKiemIndex"))
            .Update(read => read.Action("EditingCongViec_Update","QuanLyCongViec"))
            )
            .Events(e => {
                e.Edit("onEdit");
                e.DataBound("onDataBound");
            })
            .Pageable(page => page.PageSizes(true).Refresh(true))
            .Sortable()
            .Resizable(resize => resize.Columns(true))
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n");
            WriteLiteral(@"
</div>



<script type=""text/javascript"">function errorHandler(e) {
        if (e.errors) {
            var message = ""Errors:\n"";
            $.each(e.errors, function (key, value) {
                if ('errors' in value) {
                    $.each(value.errors, function () {
                        message += this + ""\n"";
                    });
                }
            });
            alert(message);
        }
    }

    function onReadIdTuan() {
        return {
            idTuan: 1,
            //idThang: $(""#dropdownlistThangTrongNamIndex"").val()
        }
    }</script>

<!-- Popup cap nhat tuan lam viec-->
<div class=""modal"" id=""myModalCapNhat"" role=""dialog"">
    <div class=""modal-dialog modal-lg"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h4 class=""modal-title""> Popup cập nhật công việc </h4>
            </div>
            <div class=""modal-body"">

                <div class=""container"">
                    <div class=""row"">
                 ");
            WriteLiteral("       <div class=\"col6\">\n                            <span> Nhân sự * : </span>\n                        </div>\n                        <div class=\"col6\">\n                            ");
#nullable restore
#line 346 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().DropDownList()
                                .Name("dropdownlistNhanSuCapNhat")
                                .DataTextField("Ten")
                                .DataValueField("Id")
                                .DataSource(source =>
                                {
                                    source.Read(read =>
                                    {
                                        read.Action("GetDanhSachNhanSu", "NhanSu");
                                    });
                                })
                                .HtmlAttributes(new { style = "margin-left : 40px" })

                            );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                            <br />
                        </div>
                    </div>
                </div>
                <br />
                <br />
                <div class=""row"">
                    <div class=""col6"">
                        <span style=""margin-left:15px;""> Tháng * : </span>
                        ");
#nullable restore
#line 369 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                    Write(Html.Kendo().DropDownList()
                                .Name("dropdownlistThangTrongNamCapNhat")
                                .DataTextField("TenThang")
                                .DataValueField("Id")
                                .DataSource(source => {
                                    source.Read(read =>
                                    {
                                        read.Action("GetAllThang", "Thang");
                                    });
                                })
                                .HtmlAttributes(new { style = "margin-left : 50px" })
                            );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                    </div>\n\n                    <div class=\"col6\">\n\n                        <span style=\"margin-left:50px;\"> Tuần * :</span>\n\n                        ");
#nullable restore
#line 387 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                    Write(Html.Kendo().DropDownList()
                        .Name("dropdownlistTuanCapNhat")
                        .DataTextField("TenTuan")
                        .DataValueField("Id")
                        .DataSource(source => source
                            .Custom()
                            .ServerFiltering(true)
                            .Transport(transport => transport
                            .Read(read =>
                            {
                                read.Action("DanhSachTuanTrongThang", "Tuan").Data("filterMonthCapNhat"); ;
                            }))
                            )
                        .Enable(false)
                        .AutoBind(false)
                        .CascadeFrom("dropdownlistThangTrongNamCapNhat")
                        .HtmlAttributes(new { style ="margin-left : 40px"})
                    );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                    </div>
                    <br />
                    <br />
                    <hr style=""width:70%;margin-left:15%"">
                    <br />
                    <br />
                </div>
                <div class=""container"">
                    <div class=""row"">
                        <div class=""col6"">
                            <span style=""margin-left:5px;""> Module : </span>
                            ");
#nullable restore
#line 416 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().DropDownList()
                                .Name("dropdownlistModuleCapNhat")
                                .DataTextField("TenModule")
                                .DataValueField("Id")
                                .DataSource(source => {
                                    source.Read(read =>
                                    {
                                        read.Action("GetDanhSachModule", "Module");
                                    });
                                })
                                .HtmlAttributes(new { style = "margin-left : 50px" })
                            );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                        </div>

                        <div class=""col6"" style=""margin-left:50px;"">
                            <span> Nguồn : Tạo mới</span>
                        </div>
                    </div>
                    <br />
                    <br />
                    <div class=""row"">
                        <div class=""col6"" style=""margin-left:5px;"">
                            <span> Tên issuse : </span>
                            <input type=""text"" id=""tenIssusseCapNhat"" name=""tenIssusseCapNhat"" style=""margin-left:30px;"" />
                        </div>

                        <div class=""col6"" style=""margin-left:70px;"">
                            <span> Url issuse : </span>
                            <input type=""text"" id=""urlIssusseCapNhat"" name=""urlIssusseCapNhat"" style=""margin-left:30px;"" />
                        </div>
                    </div>
                    <br />
                    <br />
                    <div class=""row"">
                        <div class=");
            WriteLiteral(@"""col12"" style=""margin-left:5px;"">
                            <span> Tên công việc : </span>
                            <input type=""text"" id=""tenCongViecCapNhat"" name=""tenCongViecCapNhat"" style=""margin-left:5px;width:535px;"" />
                        </div>
                    </div>
                    <br />
                    <br />
                    <div class=""row"">
                        <div class=""col6"" style=""margin-left:5px;"">
                            <span> Thời gian làm : </span>
                            <input type=""number"" id=""thoiGianLamCapNhat"" name=""thoiGianLamCapNhat"" style=""margin-left:5px;"" min=""1"" max=""50"" />
                        </div>

                        <div class=""col6"" style=""margin-left:5px;"">
                            <span style=""margin-left:70px;""> Trạng thái : </span>
                            ");
#nullable restore
#line 465 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().DropDownList()
                              .Name("dropdownlistLamViecCapNhat")
                              .DataTextField("Text")
                              .DataValueField("Value")
                              .BindTo(new List<SelectListItem>() {
                                  new SelectListItem()
                                    {
                                        Text = "Đã xong",
                                        Value = "0"
                                    },
                                    new SelectListItem()
                                    {
                                        Text = "Chưa làm",
                                        Value = "1"
                                    },
                                    new SelectListItem()
                                    {
                                        Text = "Task đột xuất",
                                        Value = "2"
                                    },
                                    new SelectListItem()
                                    {
                                        Text = "Chưa xong",
                                        Value = "3"
                                    },
                                    new SelectListItem()
                                    {
                                        Text = "Bận task khác chưa duyệt",
                                        Value = "4"
                                    },
                                    new SelectListItem()
                                    {
                                        Text = "Bận task khác đã duyệt",
                                        Value = "5"
                                    },
                                    new SelectListItem()
                                    {
                                        Text = "Vắng",
                                        Value = "6"
                                    },
                              })
                              .Value("1")
                              .HtmlAttributes(new { style = "margin-left : 5px" })
                            );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                        </div>
                    </div>
                    <br />
                    <br />
                    <div class=""row"">
                        <div class=""col6"" style=""margin-left:5px;"">
                            <span>
                                Từ ngày :
                            </span>

                            ");
#nullable restore
#line 519 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().DatePicker()
                                    .Name("tuNgayCapNhat")
                                    .HtmlAttributes(new { style = "margin-left : 40px", title = "datepicker" }).Format("yyyy/MM/dd")
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                        </div>\n\n                        <div class=\"col6\" style=\"margin-left:55px;\">\n                            <span>\n                                Đến ngày :\n                            </span>\n\n                            ");
#nullable restore
#line 530 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().DatePicker()
                                    .Name("denNgayCapNhat")
                                    .HtmlAttributes(new { style = "margin-left : 5px", title = "datepicker" }).Format("yyyy/MM/dd")
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                        </div>

                    </div>
                    <br />
                    <br />
                    <div class=""row"">
                        <div class=""col12"" style=""margin-left:5px;"">
                            <span> Ghi chú : </span>
                            <input type=""text"" id=""ghiChuCapNhat"" name=""ghiChuCapNhat"" style=""margin-left:40px; width:560px;"" />
                            <input type=""hidden"" id=""idGiaoViecCapNhat"" name=""idGiaoViecCapNhat"" value=""0"" />
                        </div>
                    </div>
                </div>
                <br />
                <br />


                <div class=""container"">
                    <div class=""row"">
                        <div class=""col-xs-12 col-sm-12 col-md-12 col-lg-12"">
                            <center>
                                ");
#nullable restore
#line 555 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                            Write(Html.Kendo().Button()
                                .Name("LuuVaThemCapNhat")
                                .Content("Lưu và thêm")
                                .HtmlAttributes(new { type = "button", style = "margin-left : 20px", @class = "k-button" })
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                                ");
#nullable restore
#line 560 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                            Write(Html.Kendo().Button()
                                .Name("LuuVaDongCapNhat")
                                .Content("Lưu và đóng")
                                .HtmlAttributes(new { type = "button", style = "margin-left : 20px", @class = "k-button" })
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                                ");
#nullable restore
#line 565 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                            Write(Html.Kendo().Button()
                                .Name("DongCapNhat")
                                .Content("Đóng")
                                .HtmlAttributes(new { type = "button", style = "margin-left : 20px", @class = "k-button" })
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                            </center>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Popup Them/cap nhat tuan lam viec-->
<div class=""modal"" id=""myModal"" role=""dialog"">
    <div class=""modal-dialog modal-lg"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h4 class=""modal-title""> Popup thêm công việc </h4>
            </div>
            <div class=""modal-body"">

                <div class=""container"">
                    <div class=""row"">
                        <div class=""col6"">
                            <span> Nhân sự * : </span>
                        </div>
                        <div class=""col6"">
                            ");
#nullable restore
#line 594 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().DropDownList()
                                .Name("dropdownlistNhanSu")
                                .DataTextField("Ten")
                                .DataValueField("Id")
                                .DataSource(source => {
                                    source.Read(read =>
                                    {
                                        read.Action("GetDanhSachNhanSu", "NhanSu");
                                    });
                                })
                                .HtmlAttributes(new { style = "margin-left : 40px" })
                            );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                            <br />
                        </div>
                    </div>
                </div>
                <br />
                <br />
                <div class=""row"">
                    <div class=""col6"">
                        <span style=""margin-left:15px;""> Tháng * : </span>
                        ");
#nullable restore
#line 615 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                    Write(Html.Kendo().DropDownList()
                                .Name("dropdownlistThangTrongNam")
                                .DataTextField("TenThang")
                                .DataValueField("Id")
                                .DataSource(source => {
                                    source.Read(read =>
                                    {
                                        read.Action("GetAllThang", "Thang");
                                    });
                                })
                                .HtmlAttributes(new { style = "margin-left : 50px" })
                            );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                    </div>\n\n                    <div class=\"col6\">\n\n                        <span style=\"margin-left:50px;\"> Tuần * :</span>\n\n                        ");
#nullable restore
#line 633 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                    Write(Html.Kendo().DropDownList()
                        .Name("dropdownlistTuan")
                        .DataTextField("TenTuan")
                        .DataValueField("Id")
                        .DataSource(source => source
                            .Custom()
                            .ServerFiltering(true)
                            .Transport(transport => transport
                            .Read(read =>
                            {
                                read.Action("DanhSachTuanTrongThang", "Tuan").Data("filterMonth"); ;
                            }))
                            )
                        .Enable(false)
                        .AutoBind(false)
                        .CascadeFrom("dropdownlistThangTrongNam")
                        .HtmlAttributes(new { style ="margin-left : 40px"})
                    );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                    </div>
                    <br />
                    <br />
                    <hr style=""width:70%;margin-left:15%"">
                    <br />
                    <br />
                </div>
                <div class=""container"">
                    <div class=""row"">
                        <div class=""col6"">
                            <span style=""margin-left:5px;""> Module : </span>
                            ");
#nullable restore
#line 662 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().DropDownList()
                                .Name("dropdownlistModule")
                                .DataTextField("TenModule")
                                .DataValueField("Id")
                                .DataSource(source => {
                                    source.Read(read =>
                                    {
                                        read.Action("GetDanhSachModule", "Module");
                                    });
                                })
                                .HtmlAttributes(new { style = "margin-left : 50px" })
                            );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                        </div>

                        <div class=""col6"" style=""margin-left:50px;"">
                            <span> Nguồn : Tạo mới</span>
                        </div>
                    </div>
                    <br />
                    <br />
                    <div class=""row"">
                        <div class=""col6"" style=""margin-left:5px;"">
                            <span> Tên issuse : </span>
                            <input type=""text"" id=""tenIssusse"" name=""tenIssusse"" style=""margin-left:30px;"" />
                        </div>

                        <div class=""col6"" style=""margin-left:70px;"">
                            <span> Url issuse : </span>
                            <input type=""text"" id=""urlIssusse"" name=""urlIssusse"" style=""margin-left:30px;"" />
                        </div>
                    </div>
                    <br />
                    <br />
                    <div class=""row"">
                        <div class=""col12"" style=""margin-left:5");
            WriteLiteral(@"px;"">
                            <span> Tên công việc : </span>
                            <textarea type=""text"" id=""tenCongViec"" name=""tenCongViec"" style=""margin-left:5px;"" rows=""4"" cols=""50"" required></textarea>
                        </div>
                    </div>
                    <br />
                    <br />
                    <div class=""row"">
                        <div class=""col6"" style=""margin-left:5px;"">
                            <span> Thời gian làm : </span>
                            <input type=""number"" id=""thoiGianLam"" name=""thoiGianLam""  style=""margin-left:5px;"" min=""1"" max=""50"" required/>
                        </div>

                        <div class=""col6"" style=""margin-left:5px;"">
                            <span style=""margin-left:70px;""> Trạng thái : </span>
                            ");
#nullable restore
#line 711 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().DropDownList()
                              .Name("dropdownlistLamViec")
                              .DataTextField("Text")
                              .DataValueField("Value")
                              .BindTo(new List<SelectListItem>() {
                                  new SelectListItem()
                                    {
                                        Text = "Đã xong",
                                        Value = "0"
                                    },
                                    new SelectListItem()
                                    {
                                        Text = "Chưa làm",
                                        Value = "1"
                                    },
                                    new SelectListItem()
                                    {
                                        Text = "Task đột xuất",
                                        Value = "2"
                                    },
                                    new SelectListItem()
                                    {
                                        Text = "Chưa xong",
                                        Value = "3"
                                    },
                                    new SelectListItem()
                                    {
                                        Text = "Bận task khác chưa duyệt",
                                        Value = "4"
                                    },
                                    new SelectListItem()
                                    {
                                        Text = "Bận task khác đã duyệt",
                                        Value = "5"
                                    },
                                    new SelectListItem()
                                    {
                                        Text = "Vắng",
                                        Value = "6"
                                    },
                              })
                              .Value("1")
                              .HtmlAttributes(new { style = "margin-left : 5px" })
                            );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                        </div>
                    </div>
                    <br />
                    <br />
                    <div class=""row"">
                        <div class=""col6"" style=""margin-left:5px;"">
                            <span>
                                Từ ngày :
                            </span>

                            ");
#nullable restore
#line 765 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().DatePicker()
                                    .Name("tuNgay")
                                    .HtmlAttributes(new { style = "margin-left : 40px", title = "datepicker" }).Format("yyyy/MM/dd")
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                        </div>\n\n                        <div class=\"col6\" style=\"margin-left:55px;\">\n                            <span>\n                                Đến ngày :\n                            </span>\n\n                            ");
#nullable restore
#line 776 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().DatePicker()
                                    .Name("denNgay")
                                    .HtmlAttributes(new { style = "margin-left : 5px", title = "datepicker" }).Format("yyyy/MM/dd")
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                        </div>

                    </div>
                    <br />
                    <br />
                    <div class=""row"">
                        <div class=""col12"" style=""margin-left:5px;"">
                            <span> Ghi chú : </span>
                            <input type=""text"" id=""ghiChu"" name=""ghiChu"" style=""margin-left:40px; width:560px;"" />
                        </div>
                    </div>
                </div>
                <br />
                <br />


                <div class=""container"">
                    <div class=""row"">
                        <div class=""col-xs-12 col-sm-12 col-md-12 col-lg-12"">
                            <center>
                                ");
#nullable restore
#line 800 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                            Write(Html.Kendo().Button()
                                .Name("LuuVaThem")
                                .Content("Lưu và thêm")
                                .HtmlAttributes(new { type = "button", style = "margin-left : 20px", @class = "k-button" })
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                                ");
#nullable restore
#line 805 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                            Write(Html.Kendo().Button()
                                .Name("LuuVaDong")
                                .Content("Lưu và đóng")
                                .HtmlAttributes(new { type = "button", style = "margin-left : 20px", @class = "k-button" })
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                                ");
#nullable restore
#line 810 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                            Write(Html.Kendo().Button()
                                .Name("Dong")
                                .Content("Đóng")
                                .HtmlAttributes(new { type = "button", style = "margin-left : 20px", @class = "k-button" })
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                            </center>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Popup dời công việc-->
<div class=""modal"" id=""myModalDoiCongViec"" role=""dialog"">
    <div class=""modal-dialog modal-lg"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h4 class=""modal-title""> Dời công việc </h4>
            </div>
            <div class=""modal-body"">
                <div class=""container"">
                    <div class=""row"">
                        <div class=""col6"">
                            <span style=""margin-top:20px;"">  Tháng * </span>
                            ");
#nullable restore
#line 836 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().DropDownList()
                            .Name("dropdownlistThangTrongNamDoiCV")
                            .DataTextField("TenThang")
                            .DataValueField("Id")
                            .DataSource(source => {
                                source.Read(read =>
                                {
                                    read.Action("GetAllThang", "Thang");
                                });
                            })
                            .HtmlAttributes(new { style = "margin-left : 50px; margin-top:20px;" })
                         );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                             <span style=\"margin-left: 50px; margin-top: 70px;\"> Tuần : </span>\n                             ");
#nullable restore
#line 849 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                         Write(Html.Kendo().DropDownList()
                            .Name("dropdownlistTuanDoiCV")
                            .DataTextField("TenTuan")
                            .DataValueField("Id")
                            .DataSource(source => source
                                .Custom()
                                .ServerFiltering(true)
                                .Transport(transport => transport
                                .Read(read =>
                                {
                                    read.Action("DanhSachTuanTrongThang", "Tuan").Data("filterMonthDoiCV");
                                }))
                                )
                            .Enable(false)
                            .AutoBind(false)
                            .CascadeFrom("dropdownlistThangTrongNamDoiCV")
                            .HtmlAttributes(new { style = "margin-left : 65px; margin-top:10px;" })
                          );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                            <br/>\n                            <br/>\n                        </div>\n\n                        <div class=\"col6\">\n                            <span> Từ ngày * : </span>\n                            ");
#nullable restore
#line 873 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().DatePicker()
                                    .Name("tuNgayDoiCV")
                                    .HtmlAttributes(new { style = "margin-left : 30px", title = "datepicker" }).Format("yyyy/MM/dd")
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                            <span style=\"margin-left: 45px; margin-top: 50px;\"> Đến ngày : </span>\n                            ");
#nullable restore
#line 878 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().DatePicker()
                                    .Name("denNgayDoiCV")
                                    .HtmlAttributes(new { style = "margin-left : 40px;margin-top:10px; height : 35px;", title = "datepicker" }).Format("yyyy/MM/dd")
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                            <br/>
                            <br/>
                        </div>

                    </div>

                    <div class=""row"">
                        <div class=""col12"">
                            <center>
                                ");
#nullable restore
#line 891 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                            Write(Html.Kendo().Button()
                                .Name("LuuDoiCV")
                                .Content("Lưu")
                                .HtmlAttributes(new { type = "button", @class = "k-button" , style = "margin-left :300px;" })
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n\n                                ");
#nullable restore
#line 897 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                            Write(Html.Kendo().Button()
                                .Name("DongDoiCV")
                                .Content("Huỷ bỏ")
                                .HtmlAttributes(new { type = "button", @class = "k-button", style="margin-left :20px;"})
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"

                            </center>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Popup thong bao ket qua-->
<div class=""modal"" id=""myModalKetQua"" role=""dialog"">
    <div class=""modal-dialog modal-sm"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h4 class=""modal-title""> Thông báo </h4>
            </div>
            <div class=""modal-body"">
                <h6 id=""ketQua""> Thông báo :  </h6>
            </div>
        </div>
    </div>
</div>

<input type=""hidden"" id=""idnv"" name=""idnv"" />

<!--Popup danh gia-->
<div class=""modal"" id=""myModalDanhGia"" role=""dialog"">
    <div class=""modal-dialog modal-lg"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h4 class=""modal-title""> Đánh giá nhân sự </h4>
            </div>
            <div class=""modal-body"">
                <div class=""container"">
                    <div class=""ro");
            WriteLiteral("w\">\n                        <div class=\"col12\">\n                            <span> Tháng * :</span>\n                            ");
#nullable restore
#line 940 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().DropDownList()
                                .Name("dropdownlistThangTrongNamDanhGia")
                                .DataTextField("TenThang")
                                .DataValueField("Id")
                                .DataSource(source => {
                                    source.Read(read =>
                                    {
                                        read.Action("GetAllThang", "Thang");
                                    });

                                })
                                .HtmlAttributes(new { style = "margin-left : 30px;" })
                            );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"

                            <span style=""margin-left : 40px;""> Nhân sự : </span>
                            <span id=""tenNV"" name=""tenNV""> </span>
                            <br />
                            <br />
                        </div>
                    </div>

                    <div class=""row"">
                        <div class=""col12"">
                            <span>
                                Đánh giá công việc tuần
                            </span>
                            <br />
                            <hr style=""width:760px;"" />
                            <br />
                            ");
#nullable restore
#line 969 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().Grid<CoreApp.Models.eDanhGiaCVTuanModel>()
                                .Name("GridDanhGiaTuan")
                                .Columns(columns =>
                                {
                                    columns.Bound(thang => thang.tenTuan).Title("Tên tuần");
                                    columns.Bound(thang => thang.KhoiLuongModel).ClientTemplate("#=KhoiLuongModel.tenKhoiLuong#").Title("Khối lượng");
                                    columns.Bound(thang => thang.TienDoModel).ClientTemplate("#=TienDoModel.tenTienDo#").Title("Tiến độ");
                                    columns.Bound(thang => thang.ChatLuongTuanModel).ClientTemplate("#=ChatLuongTuanModel.tenChatLuongTuan#").Title("Chất lượng");
                                    columns.Bound(thang => thang.nhanXetTuan).Title("Nhận xét tuần");
                                }
                                    )
                                .Editable(editable => editable.Mode(GridEditMode.InCell))
                                .DataSource(dataSource => dataSource
                                .Ajax()
                                .PageSize(10)
                                .ServerOperation(false)
                                .Model(model => {
                                    model.Id( m => m.idTuan);

                                }).Read(read => read.Action("DanhGiaCongViecTuan", "QuanLyCongViec").Data("ReadDanhGiaTuan")))
                                .Events(e =>
                                {

                                    e.Edit("onEditDanhGia");
                                })
                                .Pageable(page => page.PageSizes(true).Refresh(true))
                                .Sortable()
                                .Resizable(resize => resize.Columns(true))
                            );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                            <br />
                            <br />
                        </div>
                    </div>

                    <div class=""row"">
                        <div class=""col12"">
                            <span> Đánh giá công việc tháng </span>
                            <br />
                            <hr style=""width:700px;"" />
                            <br />
                            ");
#nullable restore
#line 1009 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                        Write(Html.Kendo().Grid<CoreApp.Models.eDanhGiaCVThangModel>()
                                .Name("GridDanhGia")
                                .Columns(columns =>
                                {
                                    columns.Bound(thang => thang.tenThang).Title("Tên tháng");
                                    columns.Bound(thang => thang.KhoiLuongModel).ClientTemplate("#=KhoiLuongModel.tenKhoiLuong#").Title("Khối lượng");
                                    columns.Bound(thang => thang.TienDoModel).ClientTemplate("#=TienDoModel.tenTienDo#").Title("Tiến độ");
                                    columns.Bound(thang => thang.ChatLuongThangModel).ClientTemplate("#=ChatLuongThangModel.tenChatLuongThang#").Title("Chất lượng");
                                    columns.Bound(thang => thang.nhanXetThang).Title("Nhận xét tháng");
                                }
                                    )
                                .Editable(editable => editable.Mode(GridEditMode.InCell))
                                .DataSource(dataSource => dataSource
                                .Ajax()
                                .PageSize(10)
                                .ServerOperation(false)
                                .Model(model => {
                                    model.Id( m => m.idThang);

                                }).Read(read => read.Action("DanhGiaCongViecThang", "QuanLyCongViec").Data("ReadDanhGiaThang")))
                                .Pageable(page => page.PageSizes(true).Refresh(true))
                                .Sortable()
                                .Resizable(resize => resize.Columns(true))
                            );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                            <br />\n                            <br />\n                            <center>\n                                ");
#nullable restore
#line 1036 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                            Write(Html.Kendo().Button()
                                    .Name("LuuDanhGia")
                                    .Content("Lưu")
                                    .HtmlAttributes(new { type = "button", @class = "k-button"})
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                                ");
#nullable restore
#line 1041 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                            Write(Html.Kendo().Button()
                                    .Name("DongDanhGia")
                                    .Content("Đóng")
                                    .HtmlAttributes(new { type = "button", @class = "k-button"})
                                );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                            </center>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>


    $(document).ready(function () {

        $.extend(true, kendo.ui.validator, {
            rules: {
                productnamevalidation: function (input) {
                    if (input.is(""[name=urlIssue]"") && input.val()) {
                        input.attr(""data-productnamevalidation-msg"", ""Không được để khoảng trắng"");
                        return /^[A-Za-z]/.test(input.val());
                    }
                    return true;
                },
                ghiChuvalidation: function (input) {
                    if (input.is(""[name=ghiChu]"") && input.val()) {
                        input.attr(""data-ghiChuvalidation-msg"", ""Không được để khoảng trắng"");
                        return /^[A-Za-z]/.test(input.val());
                    }
                    return true;
                }
            }
        ");
            WriteLiteral(@"});

        $(""#LuuDoiCV"").click(function () {
            var listGiaoViec = [];
            var superGrid = $(""#grid1"").data(""kendoGrid"");
            var selectRows = superGrid.select();
            $.each(selectRows, function () {
                var row = $(this);
                var dataItem = superGrid.dataItem(row);
                listGiaoViec.push(dataItem.idGiaoViec);
                console.log(""list giao viec : "" + typeof dataItem.denNgay);
            })

");
            WriteLiteral(@"        });

        $(""#DongDoiCV"").click(function () {
            $(""#tuNgayDoiCV"").val('');
            $(""#denNgayDoiCV"").val('');
            $(""#myModalDoiCongViec"").modal('hide');
        });


        $(""#DongDanhGia"").click(function () {
            $(""#myModalDanhGia"").modal(""hide"");
        });

        $(""#LuuDanhGia"").click(function () {
            var ListModelThang = [];
            var ListModelTuan = [];

            var data1 = $(""#GridDanhGiaTuan"").data(""kendoGrid"");
            var items1 = data1.dataSource.data();
            for (var i = 0; i < items1.length; i++) {
                var k = JSON.stringify(items1[i]);
                ListModelTuan.push({ ""idCongViecTuan"": items1[i].idCongViecTuan ,""idTuan"": items1[i].idTuan, ""tenTuan"": items1[i].tenTuan, ""KhoiLuongModel"": { ""giaTrikhoiLuong"": items1[i].KhoiLuongModel.giaTrikhoiLuong, ""tenKhoiLuong"": items1[i].KhoiLuongModel.tenKhoiLuong }, ""TienDoModel"": { ""giaTriTienDo"": items1[i].TienDoModel.giaTriTienDo, ""tenTienDo"": items1[i].TienDoM");
            WriteLiteral(@"odel.tenTienDo }, ""ChatLuongTuanModel"": { ""giaTriChatLuongTuan"": items1[i].ChatLuongTuanModel.giaTriChatLuongTuan, ""tenChatLuongTuan"": items1[i].ChatLuongTuanModel.tenChatLuongTuan }, ""nhanXetTuan"": items1[i].nhanXetTuan });
                console.log(""k "" + k);
            }

            var data = $(""#GridDanhGia"").data(""kendoGrid"");
            var items = data.dataSource.data();
            for (var i = 0; i < items.length; i++) {
                var item = JSON.stringify(items[i]);
                ListModelThang.push({ ""idThang"": items[i].idThang, ""tenThang"": items[i].tenThang, ""KhoiLuongModel"": { ""giaTrikhoiLuong"": items[i].KhoiLuongModel.giaTrikhoiLuong, ""tenKhoiLuong"": items[i].KhoiLuongModel.tenKhoiLuong }, ""TienDoModel"": { ""giaTriTienDo"": items[i].TienDoModel.giaTriTienDo, ""tenTienDo"": items[i].TienDoModel.tenTienDo }, ""ChatLuongThangModel"": { ""giaTriChatLuongThang"": items[i].ChatLuongThangModel.giaTriChatLuongThang, ""tenChatLuongThang"": items[i].ChatLuongThangModel.tenChatLuongThang }, ""nhanXetTha");
            WriteLiteral("ng\": items[i].nhanXetThang });\n                console.log(\"item : \" + JSON.stringify(items));\n            }\n\n            $.ajax({\n               url: \"");
#nullable restore
#line 1134 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                Write(Url.Action("CapNhatDanhGiaTuan", "Tuan"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
                type: ""Post"",
                dataType: ""json"",
                async: false,
                data: { models: ListModelTuan, idNhanVien : $(""#idnv"").val()},
                success: function (res) {
                    
                }
            });

            $.ajax({
               url: """);
#nullable restore
#line 1145 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                Write(Url.Action("CapNhatDanhGiaThang", "Thang"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
                type: ""Post"",
                dataType: ""json"",
                async : false,
                data: { models: ListModelThang, idNhanVien : $(""#idnv"").val()},
                success: function (res) {

                }
            });
        });

        $(""#testShow"").hide();
        $.ajax({
            url: """);
#nullable restore
#line 1158 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
             Write(Url.Action("danhSachTenCongViec", "QuanLyCongViec"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\",\n            success: function (res) {\n                var data = [];\n                data = res;\n                $(\"#tenCongViecIndex\").kendoAutoComplete({\n                    dataSource: data\n                });\n            }\n        })\n\n\n    });\n\n");
            WriteLiteral(@"
    function OpenPopupDanhGia(x) {
        var dropdown = $(""#dropdownlistThangTrongNamDanhGia"").data(""kendoDropDownList"");
        var thang = $(""#dropdownlistThangTrongNamIndex"").val();
        console.log(""x : "" + x);

        var e = document.getElementById(""idnv"").value;
        e = x;
        console.log(""e : "" + ReadDanhGiaThang());
        dropdown.value(thang);
        $.ajax({
            url: """);
#nullable restore
#line 1188 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
             Write(Url.Action("TimTenNhanSu", "NhanSu"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
            type:""Post"",
            data: { idNhanSu: x },
            async: false,
            success: function (res) {
                document.getElementById(""tenNV"").textContent = """";
                document.getElementById(""tenNV"").textContent += res;
                document.getElementById(""idnv"").value = x;
            }
        });

        $.ajax({
            url: """);
#nullable restore
#line 1200 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
             Write(Url.Action("DanhGiaCongViecTuan", "QuanLyCongViec"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\",\n            type: \"Post\",\n            data: ReadDanhGiaTuan(),\n            async : false,\n            success: function (res) {\n                //console.log(\"res :\" + JSON.stringify(res));\n");
            WriteLiteral("\n                var dataSource = new kendo.data.DataSource({ data: res });\n\n");
            WriteLiteral("                $(\'#GridDanhGiaTuan\').data(\'kendoGrid\').dataSource.read();\n                $(\'#GridDanhGiaTuan\').data(\'kendoGrid\').refresh();\n");
            WriteLiteral("            }\n        });\n\n        $.ajax({\n            url: \"");
#nullable restore
#line 1220 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
             Write(Url.Action("DanhGiaCongViecThang", "QuanLyCongViec"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\",\n            type: \"Post\",\n            data: ReadDanhGiaThang(),\n            async : false,\n            success: function (res) {\n                //console.log(\"res :\" + JSON.stringify(res));\n");
            WriteLiteral("\n                var dataSource = new kendo.data.DataSource({ data: res });\n\n");
            WriteLiteral("                $(\'#GridDanhGia\').data(\'kendoGrid\').dataSource.read();\n                $(\'#GridDanhGia\').data(\'kendoGrid\').refresh();\n                $(\"#myModalDanhGia\").modal(\"show\");\n");
            WriteLiteral(@"            }
        });





    }

    function ReadDanhGiaThang() {
        return {
            idNhanSu: $(""#idnv"").val(),
            idThang: $(""#dropdownlistThangTrongNamIndex"").val(),
            idTuan : $(""#dropdownlistTuanIndex"").val()
        }
    }

    function ReadDanhGiaTuan() {
        return {
            idNhanSu: $(""#idnv"").val(),
            idThang: $(""#dropdownlistThangTrongNamIndex"").val(),
        }
    }


    $(""#KhoaMoTuan"").click(function () {
        $.ajax({
            url: """);
#nullable restore
#line 1264 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
             Write(Url.Action("MoKhoaTuan", "Tuan"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
            type: ""POST"",
            data: { idTuan: $(""#dropdownlistTuanIndex"").val()},
            success: function (res) {
                let idTag = document.getElementById(""ketQua"");
                var data = res.message;
                idTag.innerHTML = data;
                $(""#myModalKetQua"").modal(""show"");
                setTimeout(function () {
                    $('#myModalKetQua').modal('hide');
                }, 3000)
                $('#grid1').data('kendoGrid').dataSource.read();
                $('#grid1').data('kendoGrid').refresh();
            }
        })
    })


    $(""#Xoa"").click(function ()
    {
        var listIdGiaoViec = [];
        var superGrid = $(""#grid1"").data(""kendoGrid"");
        var selectRows = superGrid.select();
        if (confirm(""Bạn có chắc chắn xoá?"")) {
            $.each(selectRows, function () {
                var row = $(this);
                var dataItem = superGrid.dataItem(row);
");
            WriteLiteral("                listIdGiaoViec.push(dataItem.idGiaoViec);\n            })\n\n            $.ajax({\n                url: \"");
#nullable restore
#line 1296 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
                 Write(Url.Action("XoaCongViec", "QuanLyCongViec"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
                type: ""POST"",
                data: { listIdGiaoViec: listIdGiaoViec, idTuan: $(""#dropdownlistTuanIndex"").val() },
                success: function (res) {
                    if (res.success == true) {
                        let idTag = document.getElementById(""ketQua"");
                        var data = res.message;
                        idTag.innerHTML = data;
                        var autocomplete = $(""#tenCongViecIndex"").data(""kendoAutoComplete"");
                        autocomplete.refresh();
                        $(""#myModalKetQua"").modal(""show"");
                        setTimeout(function () {
                            $('#myModalKetQua').modal('hide');
                        }, 3000);


                    }
                    else {
                        let idTag = document.getElementById(""ketQua"");
                        var data = res.message;
                        idTag.innerHTML = data;
                        $(""#myModalKetQua"").modal(""show"");
           ");
            WriteLiteral(@"             setTimeout(function () {
                            $('#myModalKetQua').modal('hide');
                        }, 3000)
                    }

                }
            })
        }
        else
        {
            if (listIdGiaoViec.length == 0) {
                let idTag = document.getElementById(""ketQua"");
                var data = ""Vui lòng chọn task để xoá"";
                idTag.innerHTML = data;
                $(""#myModalKetQua"").modal(""show"");
                setTimeout(function () {
                    $('#myModalKetQua').modal('hide');
                }, 3000)
            }
        }

    })

    function onEditDanhGia(e) {
        
        if (e.model.idCongViecTuan == -1) {
            this.closeCell();
        }
    }

    function onDataBound(e) {
        
        var dataItem1 = this.dataItem($(e.currentTarget).closest(""tr""));
        var grid = $(""#grid1"").data(""kendoGrid"");
        var rows = grid.items();
        var row = rows[0];
        if (row != undefined) {
     ");
            WriteLiteral(@"       var dataItem = grid.dataItem(row);
            if (dataItem.isDaKhoa == true) {
                const btn = document.getElementById(""KhoaMoTuan"");
                btn.innerText = ""Mở Khoá"";
            }
            else {
                const btn = document.getElementById(""KhoaMoTuan"");
                btn.innerText = ""Khoá"";
            }
        }
        


        var listIdTest = [];
        var i = 1;
        $.ajax({
            url: """);
#nullable restore
#line 1371 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
             Write(Url.Action("danhSachIdNhanSu", "NhanSu"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
            type: ""POST"",
            data: { idThang: $(""#dropdownlistThangTrongNamIndex"").val(), idTuan: $(""#dropdownlistTuanIndex"").val() },
            async: false,
            success: function (res) {
                console.log(""res : "" + res[i]);
                var listId = res;
                listIdTest = res;
                console.log(""danh sach "" + listId.length);
                var k = 0;
                $("".k-grouping-row"").each(function (e) {
                    k++;

                });
                console.log(""Gia tri k : "" + k);

                if (k == 1) {
                    var id = 0;
                    console.log(""Gia tri k :"" + k);
                    $("".k-grouping-row"").each(function (e) {
                        var grid3 = $(""#grid1"").data(""kendoGrid"");
                        var rows3 = grid3.items();
                        for (var i = 0; i < rows3.length; i++) {
                            var row2 = rows3[i];
                            var d = grid3.dataItem(");
            WriteLiteral(@"row2);
                            id = d.idNhanVien;
                        }
                        console.log(""K = 1 va id nhan vien :"" +id);
                        var current = $(this).closest("".k-grouping-row"");
                        console.log(""Current length :"" + current.length);
                        console.log(""Id nhan su :"" + typeof listId[e]);

                        //Create DOM Tag a va tag input
                        var ele = document.createElement(""input"");
                        var tagA = document.createElement(""a"");
                        //var tagSpan = document.createElement(""span"");
                        //set id va class
                        //tagSpan.classList.add(""material-icons-outlined"");
                        tagA.setAttribute(""id"", +id);
                        tagA.innerHTML = ""Đánh giá"";
                        tagA.classList.add(""classTagA"");

                        ele.type = ""checkbox"";
                        ele.classList.add(""abc"");
                ");
            WriteLiteral(@"        console.log(""list id :"" + listId[e]);
                        ele.setAttribute(""id"", `${id}`);

                        //add len table

                        current.children(""td"")[0].prepend(ele);
                        current.children(""td"")[7].prepend(tagA);
                        //current.children(""td"")[7].prepend(tagSpan);
                        tagA.addEventListener('click', function () {
                            OpenPopupDanhGia(listId[e]);
                        });
                        i++;



                    });
                }
                //Vong lap theo tr

                else {
                    $("".k-grouping-row"").each(function (e) {
                        var current = $(this).closest("".k-grouping-row"");
                        console.log(""Current length :"" + current.length);
                        console.log(""Id nhan su :"" + typeof listId[e]);

                        //Create DOM Tag a va tag input
                        var ele = document.createElemen");
            WriteLiteral(@"t(""input"");
                        var tagA = document.createElement(""a"");
                        //var tagSpan = document.createElement(""span"");
                        //set id va class
                        //tagSpan.classList.add(""material-icons-outlined"");
                        tagA.setAttribute(""id"", +listId[e]);
                        tagA.innerHTML = ""Đánh giá"";
                        tagA.classList.add(""classTagA"");

                        ele.type = ""checkbox"";
                        ele.classList.add(""abc"");
                        console.log(""list id :"" + listId[e]);
                        ele.setAttribute(""id"", `${listId[e]}`);

                        //add len table

                        current.children(""td"")[0].prepend(ele);
                        current.children(""td"")[7].prepend(tagA);
                        //current.children(""td"")[7].prepend(tagSpan);
                        tagA.addEventListener('click', function () {
                            OpenPopupDanhGia(listId[e");
            WriteLiteral(@"]);
                        });
                        i++;



                    });
                }
                

                var grid2 = $(""#grid1"").data(""kendoGrid"");
                var rows2 = grid2.items();
                for (var i = 0; i < rows2.length; i++) {
                    var row1 = rows2[i];
                    var d = grid2.dataItem(row1);
                    if (d.isDaDuyet == true) {
");
            WriteLiteral(@"                        document.getElementById(`${d.idNhanVien}`).checked = true;
                        //console.log(""d :"" + d.isDaDuyet + "" - "" + d.idNhanVien);
                    }
                }

            }
        })
        console.log(""list test : "" + listIdTest.length);
");
            WriteLiteral(@"
         //document.getElementById(""myCheck"").checked = true;
                    //document.getElementById(""myCheck"").disabled = true;
                    //console.log(current.children(""td"")[1]);

    }




    function TimKiemIndex() {
        return {
            tenCongViecIndex: $(""#tenCongViecIndex"").val(),
            dropdownlistThangTrongNamIndex: $(""#dropdownlistThangTrongNamIndex"").val(),
            dropdownlistTuanIndex: $(""#dropdownlistTuanIndex"").val(),
            dropdownlistModuleIndex: $(""#dropdownlistModuleIndex"").val(),
            dropdownlistNhanSuIndex: $(""#dropdownlistNhanSuIndex"").val(),
            dropdownlistLamViecIndex: $(""#dropdownlistLamViecIndex"").val()

        }
    }

    function filterMonth() {

        return {
            dropdownlistThangTrongNam: $(""#dropdownlistThangTrongNam"").val()
        };
    }

    function filterMonthDoiCV() {

        return {
            dropdownlistThangTrongNam: $(""#dropdownlistThangTrongNamDoiCV"").val()
        };
    }

    function f");
            WriteLiteral(@"ilterMonthCapNhat() {

        return {
            dropdownlistThangTrongNam: $(""#dropdownlistThangTrongNamCapNhat"").val()
        };
    }

    function filterMonthIndex() {

        return {
            dropdownlistThangTrongNam: $(""#dropdownlistThangTrongNamIndex"").val()
        };
    }

    function ThemViec() {
        return {
            dropdownlistNhanSu: $(""#dropdownlistNhanSu"").val(),
            dropdownlistThangTrongNam: $(""#dropdownlistThangTrongNam"").val(),
            dropdownlistTuan: $(""#dropdownlistTuan"").val(),
            dropdownlistModule: $(""#dropdownlistModule"").val(),
            tenCongViec: $(""#tenCongViec"").val(),
            urlIssusse: $(""#urlIssusse"").val(),
            tenIssusse: $(""#tenIssusse"").val(),
            thoiGianLam: $(""#thoiGianLam"").val(),
            dropdownlistLamViec: $(""#dropdownlistLamViec"").val(),
            tuNgay: $(""#tuNgay"").val(),
            denNgay : $(""#denNgay"").val(),
            ghiChu: $(""#ghiChu"").val()
        };
    }

    function CapNha");
            WriteLiteral(@"tGiaoViec() {
        return {
            dropdownlistNhanSuCapNhat: $(""#dropdownlistNhanSuCapNhat"").val(),
            dropdownlistThangTrongNamCapNhat: $(""#dropdownlistThangTrongNamCapNhat"").val(),
            dropdownlistTuanCapNhat: $(""#dropdownlistTuanCapNhat"").val(),
            dropdownlistModuleCapNhat: $(""#dropdownlistModuleCapNhat"").val(),
            tenCongViecCapNhat: $(""#tenCongViecCapNhat"").val(),
            urlIssusseCapNhat: $(""#urlIssusseCapNhat"").val(),
            tenIssusseCapNhat: $(""#tenIssusseCapNhat"").val(),
            thoiGianLamCapNhat: $(""#thoiGianLamCapNhat"").val(),
            dropdownlistLamViecCapNhat: $(""#dropdownlistLamViecCapNhat"").val(),
            tuNgayCapNhat: $(""#tuNgayCapNhat"").val(),
            denNgayCapNhat: $(""#denNgayCapNhat"").val(),
            ghiChuCapNhat: $(""#ghiChuCapNhat"").val(),
            idGiaoViecCapNhat : $(""#idGiaoViecCapNhat"").val()
        };
    }

    function formatDate(date) {
        var d = new Date(date),
            month = '' + (d.get");
            WriteLiteral(@"Month() + 1),
            day = '' + d.getDate(),
            year = d.getFullYear();

        if (month.length < 2)
            month = '0' + month;
        if (day.length < 2)
            day = '0' + day;

        return [year, month, day].join('-');
    }

    $(""#Luu"").click(function () {

        const btn = document.getElementById(""KhoaMoTuan"");
        var txt = btn.textContent || btn.innerText;

        if (txt === ""Mở Khoá"") {
            let idTag = document.getElementById(""ketQua"");
            var data = ""Đã khoá tuần không thể cập nhật"";
            idTag.innerHTML = data;
            $(""#myModalKetQua"").modal(""show"");
            setTimeout(function () {
                $('#myModalKetQua').modal('hide');
            }, 3000)
        }
        else {
            var ListModel = [];
            var data = $(""#grid1"").data(""kendoGrid"");
            var items = data.dataSource.data();
            for (var i = 0; i < items.length; i++)
            {
                var item = JSON.stringify(items[i])");
            WriteLiteral(@";
                console.log(""item "" + item);
                var tuNgay1 = formatDate(items[i].tuNgay);
                var denNgay1 = formatDate(items[i].denNgay);
                console.log(""tu ngay :"" + tuNgay1);
                ListModel.push({ ""idNhanVien"": items[i].idNhanVien, ""tenNhanVien"": items[i].tenNhanVien, ""idGiaoViec"": items[i].idGiaoViec, ""Dev"": items[i].Dev, ""urlIssue"": items[i].urlIssue, ""tenCongViec"": items[i].tenCongViec, ""thoiGianLam"": items[i].thoiGianLam, ""tuNgay"": tuNgay1, ""denNgay"": denNgay1, ""giaTriENumNguonGoc"": items[i].giaTriENumNguonGoc, ""giaTriEnumTrangThai"": items[i].giaTriEnumTrangThai, ""idModule"": items[i].idModule, ""mucDoHoanThanh"": items[i].mucDoHoanThanh, ""isDaDuyet"": items[i].isDaDuyet, ""isDaKhoa"": items[i].isDaKhoa, ""NguonGocModel"": { ""giaTriNguonGoc"": items[i].NguonGocModel.giaTriNguonGoc, ""tenNguonGoc"": items[i].NguonGocModel.tenNguonGoc }, ""TrangThaiCongViecModel"": { ""giaTriTrangThai"": items[i].TrangThaiCongViecModel.giaTriNguonGoc, ""tenTrangThai"": items[i].TrangTha");
            WriteLiteral(@"iCongViecModel.tenTrangThai }, ""eDmModuleModel"": { ""Id"": items[i].eDmModuleModel.Id, ""TenModule"": items[i].eDmModuleModel.TenModule }, ""ghiChu"": items[i].ghiChu });
                console.log(""List model "" + ListModel[i]);
            }


        $.ajax({
            url: """);
#nullable restore
#line 1623 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
             Write(Url.Action("EditingCongViec_Update", "QuanLyCongViec"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\",\n            type: \"POST\",\n            data: { models: ListModel },\n            async: false,\n            success: function (res) {\n\n");
            WriteLiteral("                $(\'#grid1\').data(\'kendoGrid\').dataSource.read();\n                $(\'#grid1\').data(\'kendoGrid\').refresh();\n\n            }\n\n        })\n");
            WriteLiteral("        }\n\n");
            WriteLiteral("    })\n\n\n\n    $(\"#LuuVaDong\").click(function () {\n\n        $.ajax({\n            url: \"");
#nullable restore
#line 1651 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
             Write(Url.Action("ThemCongViecGiao", "QuanLyCongViec"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
            type: 'POST',
            data: ThemViec(),
            success: function (res) {
                if (res.success == true) {
                    let idTag = document.getElementById(""ketQua"");
                    var data = res.message;
                    idTag.innerHTML = data;
                    console.log(""res"" + res.message);
                    $(""#myModalKetQua"").modal(""show"");
                    ClearSave();
                    setTimeout(function () {
                        $('#myModalKetQua').modal('hide');
                    }, 3000);
                    $('#grid1').data('kendoGrid').dataSource.read();
                    $('#grid1').data('kendoGrid').refresh();
                    $(""#myModal"").modal('hide');
                }
                else {
                    let idTag = document.getElementById(""ketQua"");
                    var data = res.message;
                    idTag.innerHTML = data;
                    console.log(""res"" + res.message);
                    $(""#");
            WriteLiteral("myModalKetQua\").modal(\"show\");\n\n                }\n            }\n        })\n\n    });\n\n    $(\"#LuuVaThem\").click(function () {\n        $.ajax({\n            url: \"");
#nullable restore
#line 1684 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
             Write(Url.Action("ThemCongViecGiao", "QuanLyCongViec"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
            type: 'POST',
            data: ThemViec(),
            success: function (res) {
                if (res.success == true) {
                    let idTag = document.getElementById(""ketQua"");
                    var data = res.message;
                    idTag.innerHTML = data;
                    console.log(""res"" + res.message);
                    $(""#myModalKetQua"").modal(""show"");
                    //ClearSave();
                    setTimeout(function () {
                        $('#myModalKetQua').modal('hide');
                    }, 3000);
                    $('#grid1').data('kendoGrid').dataSource.read();
                    $('#grid1').data('kendoGrid').refresh();
                }
                else {
                    let idTag = document.getElementById(""ketQua"");
                    var data = res.message;
                    idTag.innerHTML = data;
                    console.log(""res"" + res.message);
                    $(""#myModalKetQua"").modal(""show"");
                ");
            WriteLiteral(@"    setTimeout(function () {
                        $('#myModalKetQua').modal('hide');
                    }, 3000);
                }
            }
        })
    });

    $(""#timNangCao"").click(function () {
        var element = document.getElementById(""testShow"");
        element.style.display = ""inline-block"";

    });

    $(""#tim"").click(function () {
        $.ajax({
            url: """);
#nullable restore
#line 1723 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
             Write(Url.Action("TimKiem", "QuanLyCongViec"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
            dataType: ""json"",
            //cache: false,
            data: TimKiemIndex(),
            success: function (res) {
                if (res.success == false) {
                    let idTag = document.getElementById(""ketQua"");
                    var data = res.message;
                    idTag.innerHTML = data;
                    console.log(""res"" + res.message);
                    $(""#myModalKetQua"").modal(""show"");
                    setTimeout(function () {
                        $('#myModalKetQua').modal('hide');
                    }, 3000);
                    $(""#myModal"").modal('hide');
                }
                else {
");
            WriteLiteral("\n                    //$(\'#grid1\').data(\"kendoGrid\").dataSource.read();\n\n");
            WriteLiteral("\n                    $(\'#grid1\').data(\'kendoGrid\').dataSource.read();\n                    $(\'#grid1\').data(\'kendoGrid\').refresh();\n\n\n");
            WriteLiteral("                }\n            }\n\n        })\n");
            WriteLiteral(@"        //$('#grid1').data('kendoGrid').refresh();

    });

    function onEdit(e) {
        console.log(""on edit "");
        var dropDown = e.container.find(""[name='TrangThaiCongViecModel']"").data(""kendoDropDownList"");
        if (e.model.isDaKhoa == true) {
            this.closeCell();
        }
        if (e.model.isDaDuyet == false && e.model.isDaKhoa == false) {
            dropDown.readonly();

        }

");
            WriteLiteral("\n\n");
            WriteLiteral(@"        //var dropDown = e.container.find(""[data-role='dropdownlist']"").data(""kendoDropDownList"");
        //if (dropDown && e.model.thoiGianLam == 4) {
                //this.closeCell();

            //dropDown.readonly();
        //}
            //e.container.find(""input[name='thoiGianLam']"").attr('disabled', true)


    }

    $(""#DuyetKeHoachTuan"").click(function () {
        var chkArray = [];
        var chkArray1 = [];

        $checkbox = $('.abc');
        chkArray = $.map($checkbox, function (el) {
            if (el.checked) { return el.id };
        });
");
            WriteLiteral("        $.ajax({\n            url: \"");
#nullable restore
#line 1815 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
             Write(Url.Action("DuyetTuan", "QuanLyCongViec"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
            type: 'POST',
            data: {
                chkArray: chkArray,
                idThang : $(""#dropdownlistThangTrongNamIndex"").val(),
                idTuan: $(""#dropdownlistTuanIndex"").val(),

            },
            success: function (res) {
                if (res.success == false) {
                    let idTag = document.getElementById(""ketQua"");
                    var data = res.listError;
                    idTag.innerHTML = data;
                    $(""#myModalKetQua"").modal(""show"");
                    setTimeout(function () {
                        $('#myModalKetQua').modal('hide');
                    }, 3000)
                }
                else {
                    let idTag = document.getElementById(""ketQua"");
                    var data = res.message;
                    idTag.innerHTML = data;
                    $(""#myModalKetQua"").modal(""show"");
                    setTimeout(function () {
                        $('#myModalKetQua').modal('hide');
            ");
            WriteLiteral(@"        }, 3000)
                }
            }
        })

    });

    $(""#Them"").click(function () {
        const btn = document.getElementById(""KhoaMoTuan"");
        var txt = btn.textContent || btn.innerText;
        OpenDropdownlist();
        if (txt === ""Khoá"") {
            var dropdownlistTrangThai = $(""#dropdownlistLamViec"").data(""kendoDropDownList"");
            dropdownlistTrangThai.readonly();
            $(""#myModal"").modal(""show"");
        }
        else {
            let idTag = document.getElementById(""ketQua"");
            var data = ""Đã khoá tuần không thể thêm"";
            idTag.innerHTML = data;
            $(""#myModalKetQua"").modal(""show"");
            setTimeout(function () {
                $('#myModalKetQua').modal('hide');
            }, 3000)

        }
    })

    $(""#Dong"").click(function () {
        ClearSave();
    });

    $(""#DoiCongViec"").click(function () {
        var listIdGiaoViec = [];
        var trangThai = -1;
        var superGrid = $(""#grid1"").data(""kendoGrid"")");
            WriteLiteral(@";
        var selectRows = superGrid.select();
        $.each(selectRows, function () {
            var row = $(this);
            var dataItem = superGrid.dataItem(row);
            trangThai = dataItem.giaTriEnumTrangThai;
            listIdGiaoViec.push(dataItem.idGiaoViec);
        })
        console.log(""Trang thai "" + trangThai);
        if (listIdGiaoViec.length == 0 ) {
            let idTag = document.getElementById(""ketQua"");
            var data = ""Vui lòng chọn 1 công việc"";
            idTag.innerHTML = data;
            $(""#myModalKetQua"").modal(""show"");
            setTimeout(function () {
                $('#myModalKetQua').modal('hide');
            }, 3000)
        }
        else if (listIdGiaoViec.length >= 2)
        {
            let idTag = document.getElementById(""ketQua"");
            var data = ""Vui lòng chỉ chọn 1 công việc và trạng thái là chưa xong"";
            idTag.innerHTML = data;
            $(""#myModalKetQua"").modal(""show"");
            setTimeout(function () {
             ");
            WriteLiteral(@"   $('#myModalKetQua').modal('hide');
            }, 3000)
        }
        else if (trangThai != 3)
        {
            let idTag = document.getElementById(""ketQua"");
            var data = ""Vui lòng chỉ chọn 1 công việc và trạng thái là chưa xong hoặc bận task khác đã duyệt (chưa duyệt)"";
            idTag.innerHTML = data;
            $(""#myModalKetQua"").modal(""show"");
            setTimeout(function () {
                $('#myModalKetQua').modal('hide');
            }, 3000)
        }
        else {
            $(""#myModalDoiCongViec"").modal(""show"");
        }

    });

    function CapNhatPromo(e) {
        const btn = document.getElementById(""KhoaMoTuan"");
        var txt = btn.textContent || btn.innerText;
        if (txt === ""Mở Khoá"") {
            let idTag = document.getElementById(""ketQua"");
            var data = ""Đã khoá tuần không thể cập nhật"";
            idTag.innerHTML = data;
            $(""#myModalKetQua"").modal(""show"");
            setTimeout(function () {
                $('#myModalK");
            WriteLiteral(@"etQua').modal('hide');
            }, 3000)
        }
        else {

            var dataItem = this.dataItem($(e.currentTarget).closest(""tr""));
            var dropdownlist = $(""#dropdownlistNhanSuCapNhat"").data(""kendoDropDownList"");
            var dropdownlistThang = $(""#dropdownlistThangTrongNamCapNhat"").data(""kendoDropDownList"");
            var dropdownlistTrangThai = $(""#dropdownlistLamViecCapNhat"").data(""kendoDropDownList"");
            dropdownlist.readonly();
            dropdownlistThang.readonly();
            if (dataItem.isDaDuyet == false) {
                dropdownlistTrangThai.readonly();
            }
            else {
                dropdownlistTrangThai.enable(true);
            }
            $(""#dropdownlistNhanSuCapNhat"").data('kendoDropDownList').value(dataItem.idNhanVien);
            $(""#dropdownlistThangTrongNamCapNhat"").data('kendoDropDownList').value($(""#dropdownlistThangTrongNam"").val());
            $(""#dropdownlistTuanCapNhat"").data('kendoDropDownList').value($(""#dropdownlist");
            WriteLiteral(@"Tuan"").val());
            $(""#dropdownlistModuleCapNhat"").data('kendoDropDownList').value(dataItem.idModule);
            $(""#tenCongViecCapNhat"").val(dataItem.tenCongViec);
            $(""#thoiGianLamCapNhat"").val(dataItem.thoiGianLam);
            $(""#dropdownlistLamViecCapNhat"").data('kendoDropDownList').value(dataItem.TrangThaiCongViecModel.giaTriTrangThai);
            $(""#urlIssusseCapNhat"").val(dataItem.urlIssue);
            var tuNgay1 = formatDate(dataItem.tuNgay);
            var denNgay1 = formatDate(dataItem.denNgay);
            $(""#tuNgayCapNhat"").val(tuNgay1);
            $(""#denNgayCapNhat"").val(denNgay1);
            $(""#ghiChuCapNhat"").val(dataItem.ghiChu);
            $(""#idGiaoViecCapNhat"").val(dataItem.idGiaoViec);
            $(""#myModalCapNhat"").modal('show');
        }

    }

    $(""#LuuVaDongCapNhat"").click(function () {
        console.log(""Da vo day cap nhat :"");
        $.ajax({
            url: """);
#nullable restore
#line 1967 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
             Write(Url.Action("CapNhatCongViecGiao", "QuanLyCongViec"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
            type: 'POST',
            data: CapNhatGiaoViec(),
            success: function (res) {
                if (res.success == true) {
                    let idTag = document.getElementById(""ketQua"");
                    var data = res.message;
                    idTag.innerHTML = data;
                    console.log(""res"" + res.message);
                    $(""#myModalKetQua"").modal(""show"");
                    ClearSave();
                    setTimeout(function () {
                        $('#myModalKetQua').modal('hide');
                    }, 3000);
                    $(""#myModalCapNhat"").modal('hide');
                    $('#grid1').data('kendoGrid').dataSource.read();
                    $('#grid1').data('kendoGrid').refresh();
                }
                else {
                    let idTag = document.getElementById(""ketQua"");
                    var data = res.message;
                    idTag.innerHTML = data;
                    console.log(""res"" + res.message);
          ");
            WriteLiteral(@"          $(""#myModalKetQua"").modal(""show"");

                }
            }
        })
        $('#grid1').data('kendoGrid').dataSource.read();
        $('#grid1').data('kendoGrid').refresh();
    })

    $(""#LuuVaThemCapNhat"").click(function () {
        $.ajax({
            url: """);
#nullable restore
#line 2001 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\QuanLyCongViec\TrangChu.cshtml"
             Write(Url.Action("CapNhatCongViecGiao", "QuanLyCongViec"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
            type: 'POST',
            data: CapNhatGiaoViec(),
            success: function (res) {
                if (res.success == true) {
                    let idTag = document.getElementById(""ketQua"");
                    var data = res.message;
                    idTag.innerHTML = data;
                    console.log(""res"" + res.message);
                    $(""#myModalKetQua"").modal(""show"");
                    ClearSave();
                    setTimeout(function () {
                        $('#myModalKetQua').modal('hide');
                    }, 3000);
                    $(""#myModalCapNhat"").modal('hide');
                    $('#grid1').data('kendoGrid').dataSource.read();
                    $('#grid1').data('kendoGrid').refresh();
                }
                else {
                    let idTag = document.getElementById(""ketQua"");
                    var data = res.message;
                    idTag.innerHTML = data;
                    console.log(""res"" + res.message);
          ");
            WriteLiteral(@"          $(""#myModalKetQua"").modal(""show"");
                    setTimeout(function () {
                        $('#myModalKetQua').modal('hide');
                    }, 3000);
                }
            }
        })
    });

    $(""#DongCapNhat"").click(function () {
        ClearSaveCapNhat();
    });

    function ClearSave() {
");
            WriteLiteral("        $(\"#tenCongViec\").val(\'\');\n        $(\"#thoiGianLam\").val(\'\');\n");
            WriteLiteral(@"        $(""#urlIssusse"").val('');
        $(""#tuNgay"").val('');
        $(""#denNgay"").val('');
        $(""#ghiChu"").val('');
        $(""#myModal"").modal('hide');
    }

    function ClearSaveCapNhat() {
        $(""#myModalCapNhat"").modal('hide');
    }

    function OpenDropdownlist() {
        var dropdownlist = $(""#dropdownlistNhanSu"").data(""kendoDropDownList"");
        var dropdownlistThang = $(""#dropdownlistThangTrongNam"").data(""kendoDropDownList"");
        var dropdownlistTrangThai = $(""#dropdownlistLamViec"").data(""kendoDropDownList"");
        dropdownlist.enable(true);
        dropdownlistThang.enable(true);
        dropdownlistTrangThai.enable(true);
    }



</script>

<script type=""text/javascript"">function errorHandler(e) {
        if (e.errors) {
            var message = ""Errors:\n"";
            $.each(e.errors, function (key, value) {
                if ('errors' in value) {
                    $.each(value.errors, function () {
                        message += this + ""\n"";
                    ");
            WriteLiteral("});\n                }\n            });\n            alert(message);\n        }\n    }</script>\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
