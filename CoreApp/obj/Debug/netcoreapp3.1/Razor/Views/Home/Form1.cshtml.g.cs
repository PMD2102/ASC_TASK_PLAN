#pragma checksum "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "e47c990ee371cb80d7d49dfae0a93eacd3413fa2"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_Form1), @"mvc.1.0.view", @"/Views/Home/Form1.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\_ViewImports.cshtml"
using CoreApp;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\_ViewImports.cshtml"
using Kendo.Mvc.UI;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"e47c990ee371cb80d7d49dfae0a93eacd3413fa2", @"/Views/Home/Form1.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"37e33255dd0f58295d578403c46696e37e808753", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_Form1 : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 1 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
  
    ViewData["Title"] = "Form";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<script type=""text/javascript"" src=""https://www.gstatic.com/charts/loader.js""></script>
<style>
    div.ex1 {
        width: 700px;
        height: 700px;
        overflow: scroll;
    }
</style>
<h1> BÁO CÁO HIỆU SUẤT </h1>
<br />

<div class=""container"">
    <div class=""row"">
        <div class=""col-xs-12 col-sm-12 col-md-12 col-lg-12"">
            <div class=""solid"">
                <span> Năm </span>
                ");
#nullable restore
#line 20 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
            Write(Html.Kendo().DropDownList()
                    .Name("dropdownlistNam")
                    .DataTextField("tenNam")
                    .DataValueField("nam")
                    .DataSource(source => {
                        source.Read(read =>
                        {
                            read.Action("DanhSachNamThongKe", "ThongKe");
                        });
                    })
                    .HtmlAttributes(new { style = "margin-left : 40px" })
                );

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                <span style=\"margin-left:120px;\"> Tháng </span>\n                ");
#nullable restore
#line 33 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
            Write(Html.Kendo().DropDownList()
                    .Name("dropdownlistThang")
                    .DataTextField("TenThang")
                    .DataValueField("GiaTri")
                    .DataSource(source => source
                        .Custom()
                        .ServerFiltering(true)
                        .Transport(transport => transport
                        .Read(read =>
                        {
                            read.Action("DanhSachThangTrongNam", "Thang").Data("filterYear"); ;
                        }))
                        )
                    .Enable(false)
                    .AutoBind(false)
                    .CascadeFrom("dropdownlistNam")
                    .HtmlAttributes(new { style ="margin-left : 40px"})
                );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"

                <button type=""button"" id=""TimKiem"" name=""TimKiem"" class=""k-button"" style=""margin-left:60px;"" onclick=""drawStuff()""> Tìm Kiếm </button>
                <br />
                <br />
            </div>
        </div>
    </div>
    <center>
        <div class=""ex1"">
            <div id=""chart_div"" style=""width: 1000px; height: 700px;""></div>
        </div>
    </center>
    <br />
    <div class=""row"">
        <div class=""col-xs-12 col-sm-12 col-md-12 col-lg-12"">

            <div data-role=""grid"" class=""k-grid k-widget k-grid-display-block"">

                <table name=""gridThongKe"">
                    <thead class=""k-grid-header"" role=""rowgroup"">
                        <tr class=""k-master-row"" id=""testTuan"">
                            <th class=""k-grid-header"" colspan=""2"" role=""columnheader""> Thống kê theo tháng <br /> </th>
");
#nullable restore
#line 73 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                             for (int i = 0; i < ViewBag.DanhSachTuan.Count; i++)
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <th class=\"k-grid-header\" colspan=\"2\" role=\"columnheader\"> ");
#nullable restore
#line 75 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                                                                                      Write(ViewBag.DanhSachTuan[i].TenTuan);

#line default
#line hidden
#nullable disable
            WriteLiteral(" <br />  ");
#nullable restore
#line 75 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                                                                                                                               Write(ViewBag.DanhSachTuan[i].TuNgay.Date.ToString("dd/MM"));

#line default
#line hidden
#nullable disable
            WriteLiteral(" - ");
#nullable restore
#line 75 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                                                                                                                                                                                        Write(ViewBag.DanhSachTuan[i].DenNgay.Date.ToString("dd/MM"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</th>\n");
#nullable restore
#line 76 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                            }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                        </tr>

                    </thead>
                    <tbody role=""rowgroup"">
                    <thead>
                        <tr class=""k-master-row"" id=""testTuan1"">
                            <th class=""k-grid-header"" role=""columnheader""> STT </th>
                            <th class=""k-grid-header"" role=""columnheader""> Nhân Sự</th>
");
#nullable restore
#line 85 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                             for (int i = 0; i < ViewBag.DanhSachTuan.Count; i++)
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <th class=\"k-grid-header\">Số giờ</th>\n                                <th class=\"k-grid-header\">% Hoàn Thành</th>\n");
#nullable restore
#line 89 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"

                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                        </tr>\n                    </thead>\n\n                    <thead id=\"testTuan2\">\n");
#nullable restore
#line 95 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                         for (int j = 0; j < ViewBag.SoLuongNhanSu; j++)
                        {
                            int stt = j;
                            int stt1 = j + 1;

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <tr class=\"k-master-row\" role=\"row\">\n                                <td> ");
#nullable restore
#line 100 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                                Write(stt1);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n                                <td> ");
#nullable restore
#line 101 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                                Write(ViewBag.DanhSachThongKe[j].tenNhanVien);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n");
#nullable restore
#line 102 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                                 for (int k = 0; k < ViewBag.DanhSachTuan.Count; k++)
                                {
                                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 104 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                                     if (ViewBag.DanhSachThongKe[stt].idTuan == ViewBag.DanhSachTuan[k].Id)
                                    {
                                        float hoanThanh = ((float)ViewBag.DanhSachThongKe[stt].soGioLam / ViewBag.DanhSachTuan[k].SoGioLam) * 100;

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <td> ");
#nullable restore
#line 107 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                                        Write(ViewBag.DanhSachTuan[k].SoGioLam);

#line default
#line hidden
#nullable disable
            WriteLiteral(" </td>\n                                        <td> ");
#nullable restore
#line 108 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                                        Write(hoanThanh);

#line default
#line hidden
#nullable disable
            WriteLiteral(" </td>\n");
#nullable restore
#line 109 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                                        stt += ViewBag.SoLuongNhanSu;
                                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 110 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                                     
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                            </tr>\n");
#nullable restore
#line 114 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    </thead>\n\n                    </tbody>\n                </table>\n            </div>\n            <br />\n");
            WriteLiteral(@"        </div>
    </div>
</div>
<script>

    function filterYear() {

        return {
            dropdownlistNam: $(""#dropdownlistNam"").val()
        };
    }

    function onReadDataNgay()
    {
        return {
            nam: $(""#dropdownlistNam"").val(),
            thang: $(""#dropdownlistThang"").val()
        }

        //return `{nam: ${$(""#dropdownlistNam"").val()}, thang: ${$(""#dropdownlistThang"").val()} }`
    }

    $(""#TimKiem"").click(function () {
        console.log(""alo alo"");
        console.log(onReadDataNgay());
        $.ajax({
            url: '");
#nullable restore
#line 148 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
             Write(Url.Action("Test", "ThongKe"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: onReadDataNgay(),
            type: ""GET"",
            dataType: ""json"",
            contentType: ""application/json; charset=utf-8"",
            success: function (res) {
                console.log(""res :"", res);
                $('#testTuan2 tr').each((e, data) => {
                    if (e > -1) {
                        data.remove()
                    }
                })
                $('#testTuan th').each((e, data) => {
                    if (e != 0) {
                        data.remove()
                    }
                })

                res.danhSachTuan.forEach(e => {
                    $('#testTuan').append(`<th class=""k-grid-header"" colspan=""2"" role=""columnheader"">${e.TenTuan} <br/> ${moment(e.TuNgay).format('DD/MM')} - ${moment(e.DenNgay).format('DD/MM')}</th>`)
                })

                $('#testTuan1 th').each((e, data) => {
                    if (e > -1) {
                        data.remove()
                    }
                })
               ");
            WriteLiteral(@" $('#testTuan1').append(""<th class='k-grid-header' role = 'columnheader' > STT </th> <th class='k-grid-header' role = 'columnheader'> Nhân sự </th >"")
                res.danhSachTuan.forEach(e => {
                    $('#testTuan1').append("" <th class='k-grid-header'> Số giờ </th> <th class='k-grid-header'> % Hoàn thành </th>"")
                })

                $('#testTuan2 tr td').each((e, data) => {
                    if (e > -1) {
                        data.remove()
                    }
                })

                var soLuong = res.soLuongNhanSu;
                var soLuongTuan = res.soLuongTuan;
                for (var i = 0; i < soLuong; i++)
                {
                    var  stt = i;
                    var stt1 = i + 1;
                    $('#testTuan2').append(`<tr class='a${i}'> <td> ${i + 1} </td> <td> ${res.thongKemOdel[i].tenNhanVien} </td> </tr>`)
                    for (var j = 0; j < soLuongTuan; j++) {
                        if (res.thongKemOdel[stt].idTuan == res");
            WriteLiteral(@".danhSachTuan[j].Id) {
                            var x = (res.thongKemOdel[stt].soGioLam / res.danhSachTuan[j].SoGioLam) * 100;
                            $(`#testTuan2 tr.a${i}`).append(`<td> ${res.danhSachTuan[j].SoGioLam} </td> <td> ${x} </td >`)
                            stt += soLuong;
                        }
                    }

                }


            }
        })

");
            WriteLiteral("    })\n\n    function onReadDataNgayBieuDo() {\n        return {\n            nam: $(\"#dropdownlistNam\").val(),\n            thang: $(\"#dropdownlistThang\").val(),\n");
            WriteLiteral(@"        }

    }
      google.charts.load('current', {'packages':['corechart', 'bar']});
      google.charts.setOnLoadCallback(drawStuff);

    function drawStuff() {
        var button = document.getElementById('change-chart');
        var chartDiv = document.getElementById('chart_div');
        $.ajax({
        url: '");
#nullable restore
#line 229 "D:\ASC_Task_Planning_V9\ASC_Task_Planning\ASC_TASK_PLAN\CoreApp\Views\Home\Form1.cshtml"
         Write(Url.Action("ThongKeBieuDo", "ThongKe"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            traditional: true,
            data: onReadDataNgayBieuDo(),
            success: function (result) {
                console.log(""abcxyz"", result.length);
                var data = google.visualization.arrayToDataTable([]);
                data.addColumn('string', 'Thống Kê');
                data.addColumn('number', 'Số Giờ');
                data.addColumn('number', 'Hoàn Thành');
                for (var i = 0; i < result.length; i++) {
                    data.addRow([result[i].tenNhanVien, { v: result[i].soGioLam }, result[i].phanTram]);
                }

                var materialOptions = {
                    width: 900,
                    chart: {
                        title: 'Thống kê theo tháng',
                        subtitle: 'Số giờ bên trái , Hoàn thành bên phải'
                    },
                    series: {
                        0: { axis: 'Số Giờ' },
                        1: { axis: 'Hoàn Thành' }
                    },
                    axes: {
         ");
            WriteLiteral(@"               y: {
                            distance: { label: 'parsecs' },
                            brightness: { side: 'right', label: 'apparent magnitude' }
                        }
                    }
                };

                var classicOptions = {
                    width: 400,
                    series: {
                        0: { targetAxisIndex: 0 },
                        1: { targetAxisIndex: 1 }
                    },
                    title: 'Nearby galaxies - distance on the left, brightness on the right',
                    vAxes: {
                        0: { title: 'parsecs' },
                        1: { title: 'apparent magnitude' }
                    }
                };

                function drawMaterialChart() {
                    var materialChart = new google.charts.Bar(chartDiv);
                    materialChart.draw(data, google.charts.Bar.convertOptions(materialOptions));

                }

                function drawClassicChart() {
        ");
            WriteLiteral("            var classicChart = new google.visualization.ColumnChart(chartDiv);\n                    classicChart.draw(data, classicOptions);\n\n                }\n\n                drawMaterialChart();\n        },\n        })\n\n    };\n</script>\n\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
